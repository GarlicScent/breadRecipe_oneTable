<div class="navbar">
  <div class="nav-first-floor">
    <% if( isLogin ) { %>
    <div><a class="logout" href="/user/logout">로그아웃</a></div>
    <% } else {%>
    <div><a class="sign-up" href="/user/signup">회원가입</a></div>
    <div><a class="login" href="/user/login">로그인</a></div>
    <% } %>

    <div><a class="customer-center" href="#">고객센터</a></div>
  </div>
  <div class="nav-second-floor">
    <div class="logo"><a href="/">ONE TABLE</a></div>
    <div class="empty"></div>
    <div>
      <a class="search" href="/search">
        <i class="fa-solid fa-magnifying-glass"></i>
      </a>
    </div>
    <div>
      <a class="good" href="#">
        <i class="fa-regular fa-heart"></i>
      </a>
    </div>
    <div>
      <a class="user" href="/user/myPage"><i class="fa-solid fa-user"></i></a>
    </div>
  </div>
  <div class="nav-third-floor">
    <ul class="nav">
      <li class="nav-item">
        <a class="nav-link" href="/recipe">레시피</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#">키친가이드</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/course">요리클래스</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#">커뮤니티</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#">이벤트</a>
      </li>
    </ul>
  </div>
</div>

<!-- cookie -->
<div
  class="alert alert-warning alert-dismissible fade show d-none"
  id="myAlert"
  role="alert"
  style="padding: 16px 170px 16px 16px"
>
  <i
    style="position: relative; top: -1px"
    class="far fa-exclamation-circle"
  ></i>
  <strong>비밀번호 변경 안내!</strong> 개인정보보호를 위해 6개월 마다 비밀번호
  변경을 권장하고 있사오니 비밀번호를 변경해 주시기 바랍니다.
  <span
    style="
      position: absolute;
      top: 0px;
      right: 0px;
      padding: 18px 40px 18px 0px;
      font-size: 13px;
    "
    >3일 동안 보지 않기</span
  >
  <button
    type="button"
    class="btn-close"
    data-bs-dismiss="alert"
    aria-label="Close"
    onclick="cancel();"
  ></button>
</div>

<script>
  const bsAlert = document.getElementById("myAlert");
  console.log(bsAlert);

  // 이건 backend에서 res.render로 변수 넘겨줘서 검사해서 처리
  // 까꿍 안 함
  function cancel() {
    axios({
      url: "/cookie",
      method: "post",
    }).then((response) => {
      console.log("cookie:", response.data);
    });
    if (bsAlert.classList.contains("d-none") == false) {
      bsAlert.classList.add("d-none");
    }
  }

  if ("<%=popup%>" == "") {
    if (bsAlert.classList.contains("d-none")) {
      bsAlert.classList.remove("d-none");
    }
  }

  // 프론트엔드 단에서 cookie접근
  // 이 방식은 로드가 느려서 까꿍하게 됨.
  // $(document).ready(function () {
  //   if (document.cookie == "popup=oneMinute") {
  //     bsAlert.classList.add("d-none");
  //   }
  // });

  // function cancel() {
  //   axios({
  //     url: "/cookie",
  //     method: "post",
  //   }).then((response) => {
  //     console.log("cookie:", response.data);
  //   });
  //   if (bsAlert.classList.contains("d-none") == false) {
  //     bsAlert.classList.add("d-none");
  //   }
  // }
</script>
